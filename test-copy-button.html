<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Copy Button</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body style="padding: 50px; background: #2a1810;">
    <div style="text-align: center;">
        <h1 style="color: #f5e6d3;">Copy Button Test</h1>
        
        <div class="session-code-display" id="sessionCodeDisplay" style="display: block; margin: 20px 0;">
            <span id="sessionCodeText" style="color: #f5e6d3;">
                👑 You're the host! Share code: <strong>ABC123</strong>
            </span>
            <button class="btn-copy" id="copyCodeBtn" style="display: inline-block;" title="Copy session code">
                📋 Copy Code
            </button>
        </div>
        
        <p style="color: #8b6914; margin-top: 20px;" id="result"></p>
    </div>

    <script>
        // Test the copy functionality
        document.getElementById('copyCodeBtn').addEventListener('click', async () => {
            const btn = document.getElementById('copyCodeBtn');
            const sessionCode = 'ABC123';
            const resultEl = document.getElementById('result');
            
            try {
                // Try modern Clipboard API first
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    await navigator.clipboard.writeText(sessionCode);
                    console.log('✅ Copied using Clipboard API');
                    resultEl.textContent = '✅ Copied using Clipboard API: ' + sessionCode;
                } else {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = sessionCode;
                    textArea.style.position = 'fixed';
                    textArea.style.opacity = '0';
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    console.log('✅ Copied using fallback method');
                    resultEl.textContent = '✅ Copied using fallback: ' + sessionCode;
                }
                
                // Visual feedback
                const originalText = btn.innerHTML;
                btn.innerHTML = '✅ Copied!';
                btn.classList.add('copied');
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
                
            } catch (error) {
                console.error('❌ Copy failed:', error);
                resultEl.textContent = '❌ Copy failed: ' + error.message;
            }
        });
    </script>
</body>
</html>
